// Generated by CoffeeScript 1.4.0
var Label,Task,ViewModel;Task=function(e){return this.description=ko.observable(e),this},Label=function(e,t){return this.title=ko.observable(e),this.tasks=ko.observableArray(t),this},ViewModel=function(){var e,t,n,r=this;return n=new Label("To do",[new Task("Get dog food"),new Task("Mow lawn"),new Task("Fix car")]),e=new Label("Doing",[new Task("Fix fence"),new Task("Walk dog"),new Task("Read book")]),t=new Label("Done",[]),this.labels=ko.observableArray([n,e,t]),this.selectedTask=ko.observable(),this.clearSelectedTask=function(){return r.selectedTask("")},this.selectTask=function(e){return r.selectedTask(e)},this.addTask=function(){var e;return e=new Task(""),r.selectedTask(e),r.labels()[0].tasks.push(e)},this.trash=ko.observableArray(),this},ko.bindingHandlers.sortableList={init:function(e,t,n,r){return $(e).data("sortList",t()),$(e).sortable({update:function(e,t){var n,r,i,s;n=t.item.data("sortItem");if(n)return i=t.item.data("parentList"),r=t.item.parent().data("sortList"),s=ko.utils.arrayIndexOf(t.item.parent().children(),t.item[0]),s>=0&&(i.remove(n),r.splice(s,0,n)),t.item.remove()},connectWith:".container"})}},ko.bindingHandlers.sortableItem={init:function(e,t){var n;return n=t(),$(e).data("sortItem",n.item),$(e).data("parentList",n.parentList)}},ko.bindingHandlers.visibleAndSelect={update:function(e,t){ko.bindingHandlers.visible.update(e,t);if(t())return setTimeout(function(){return $(e).focus().select()},0)}},$(function(){return ko.applyBindings(new ViewModel)});